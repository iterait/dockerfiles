ARG tag="latest"
FROM iterait/archlinux:"${tag}"
MAINTAINER Iterait a.s. <docker@iterait.com>

# install additional packages
RUN pacman --noconfirm --needed -S \
      python-babel \
      python-click \
      python-matplotlib \
      python-numpy \
      python-pyaml \
      python-requests \
      python-ruamel-yaml \
      python-testfixtures \
    && paccache -rfk0

RUN sudo -u aur trizen --noconfirm --needed -S \
      python-tabulate \
    && paccache -rfk0 \
    && trizen -Scc --noconfirm

# install emloop                                          
RUN pip install --no-cache-dir git+https://github.com/iterait/emloop.git \
    && pip install --no-cache-dir git+https://github.com/iterait/emloop-scikit.git
